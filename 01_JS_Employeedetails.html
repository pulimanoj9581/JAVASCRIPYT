<!DOCTYPE html>
<html>
<head>
    <title>JS-EMPLOYEE-DETAILS</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<style>
.add{
background-color:#5cb85c;
color:white;
}

th{
 text-align:center;
 color:#566787;
}

.btn{
padding:3px 20px;
min-width: 90px;
}

.btn-primary{
color:#fff;
background-color:#337a7b;
}

.form-wrapper{
display: none;
}

.form-wrapper{
display:flex;
justify-content:center;
align-items:center;
height:100%;
width:100%;
position:absolute;
left:0;
top:0;
background-color:rgba(0,0,0,0.6);
z-index:100;
}

.mobileForm{
background-color:white;
width:600px;
padding:20px 50px;
border-radius:5px;
}

.form-control{
width:90%;
}

.group{
display:flex;
margin:15px 0;
}

.group label{
width:70px;
line-height:40px;
height:40px;
}

.action{
display:flex;
justify-content:center;
gap:100px;
margin:20px;
}
</style>
</head>
<body>
    <h1>Employee Information</h1>
    <table>
        <form>
            <tr>
                <td>
                    <fieldset>
                        <table id="Addemployee">
                            <tr>
                                <th colspan="2">Add Employees</th>
                            </tr>
                            <tr>
                                <td>First name</td>
                                <td><input type="text" id="first_name" name="first_name"/></td>
                            </tr>
                            <tr>
                                <td>Last name</td>
                                <td><input type="text" id="last_name" name="last_name"/></td>
                            </tr>
                            <tr>
                                <td>Email</td>
                                <td><input type="text" id="email" name="email"/></td>
                            </tr>
                            <tr>
                                <td>JOB</td>
                                <td><input type="text" id="hire" name="hire"/></td>
                            </tr>
                            <tr>
                                <td>Salary</td>
                                <td><input type="text" id="salary" name="salary" calculate="Sum"/></td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="button" id="submit" name="submit" value="Addemployee" onclick="addRecord()" /></td>
                                    <td id="error_msg"></td>
                                </tr>
                            </table>
                        </fieldset>
                    </td>
                    <td valign="top" width="100%">
                        <fieldset>
                            <table id="employee_table" border="1" cellpadding="5px" style="border-collapse:collapse" width="100%">
                                <tr>
                                    <th>First Name</th>
                                    <th>Last Name</th>
                                    <th>Email</th>
                                    <th>JOB</th>
                                    <th>Salary</th>
                                    <th></th>
                                    <th></th> 
                                </tr>
                                <tr>
                                  <td>RAMU</td>
                                  <td>RAO</td>
                                  <td>ramu@gmail.com</td>
                                  <td>BPO</td>
                                  <td>200</td>
                                  <td class="btn btn-primary">EDIT</td>
                                  <td class="btn btn-danger">DELETE</td>
                                </tr>
                                <tr>
                                    <td colspan="4" id="price">Total</td> 
                                    <td id="total"></td>
                                </tr>
                            </table>
                          <div class="form-wrapper">
                           <div class="mobileForm">
                            <div class="group">
                             <label for="mobile">First Name</label>
                             <input type="text" class="form-control" id="mobile" require minlength="3">
                            </div>
                            <div class="group">
                            <label for="mobile">Last Name</label>
                            <input type="text" class="form-control" id="name" required minlength="3">
                            </div>
                            <div class="group">
                            <label for="mobile">Email</label>
                            <input type="text" class="form-control" id="name" required minlength="3">
                            </div>
                            <div class="group">
                            <label for="mobile">JOB</label>
                            <input type="text" class="form-control" id="name" required minlength="2">
                            </div>
                            <div class="group">
                            <label for="mobile">salary</label>
                            <input type="text" class="form-control" id="salary" required minlength="1">
                            </div>
                            <div class="action">
                            <button class="btn btn-primary update">UPDATE</button>
                            <button class="btn btn-danger cancel">Cancel</button>
                            </div>
                           </div>
                          </div>  
                        </fieldset>
                    </td>
                </tr> 
            </form>
        </table>
    </body>
    <Script>
        var totalSalaries = 0;
        function addRecord() {
            let fName = document.getElementById("first_name").value;
            let lName = document.getElementById("last_name");
            let email = document.getElementById("email");
            let hireDate = document.getElementById("hire");
            let salary = document.getElementById("salary");
            let submit_btn = document.getElementById("submit");
            let table = document.getElementById("employee_table");
            let error_msg = document.getElementById("error_msg");
            let total = document.getElementById("price");
            let addBtn = document.getElementById("add");
            let form = document.getElementById("form-wrapper");
            let updatebtn = document.getElementById("update");
            let cancebtn = document.getElementById("cancel");
            let row;
            let cell1;
            let cell2;
            let cell3;
            let cell4;
            let cell5;
            let cell6;
            let cell7;
            row = table.insertRow(1);
            cell1 = row.insertCell(0);
            cell2 = row.insertCell(1);
            cell3 = row.insertCell(2);
            cell4 = row.insertCell(3);
            cell5 = row.insertCell(4);
            cell6 = row.insertCell(5);
            cell7 = row.insertCell(6);
            cell1.innerHTML = fName;
            cell2.innerHTML = lName.value;
            cell3.innerHTML = email.value;
            cell4.innerHTML = hire.value;
            cell5.innerHTML = salary.value;
            //cell6.innerHTML = "<input type='button' value='Edit employee' onclick='editRecord(this)'/>";
            //cell7.innerHTML = "<input type='button' value='Delete user' onclick='deleteRecord(this)' style='background-color:red' />";
            let newSalary = JSON.parse(salary.value)
            totalSalaries = totalSalaries + newSalary
            document.getElementById("total").innerHTML = totalSalaries
            clear()
        }
        function clear(){
            let fName = document.getElementById("first_name");
            first_name.value = "";
            let lName = document.getElementById("last_name");
            last_name.value = "";
            let email = document.getElementById("email");
            email.value = "";
            let hireDate = document.getElementById("hire");
            hire.value = "";
            let salary = document.getElementById("salary");
            salary.value = "";
            let submit_btn = document.getElementById("submit");
            let table = document.getElementById("employee_table");
            let error_msg = document.getElementById("error_msg");
            let total = document.getElementById("price"); 
            selectedRow = null;
        }
//         function deleteRecord(button) {
//       var table = document.getElementById("employee_table");
//       var row = button.parentNode.parentNode;
//      table.deleteRow(row.rowIndex);
//     }
//     function editRecord(button) {
//   var row = button.parentNode.parentNode;
//   var td_array = row.children;
//   for (i = 0; i < td_array.length - 2; i++) { //the '- 2' is added so the 'edit' and 'delete' buttons won't become editable
//     td_array[i].setAttribute("contenteditable", "true");
//     td_array[i].style.backgroundColor = "lightblue";
//   }
//     }

iif(data.length>0);{
for(i=0;i<data.length;i++){
    
data+= `<tr>
           <td>{data[i]['First Name]}</td>
            <td>{data[i]['Last Name]}</td>
            <td>{data[i]['Email]}</td>
            <td>{data[i]['JOB']}</td>
            <td>{data[i]['salary']}</td>
            <td><button class="btn btn-primary" onclick="edit">EDIT</button></td>
            <td><button class="btn btn-danger" onclick="delete">DELETE</button></td>
            </tr>`;
}
addBtn.onclick = function(){
form.classList.add('active')
}
cancelBtn.onclick = function(){
form.classList.remove('active')
}
}
</Script>
</html>